<HTML>
<HEAD>
<META NAME="GENERATOR" Content="Microsoft Visual Studio 6.0">
<TITLE></TITLE>
</HEAD>
<BODY>

<center><h3>  &nbsp;</h3>
<H3>DBObject</H3></center>

<center><h5> &nbsp;</h5>
<H5>Свойства&nbsp;базового класса</H5></center>
<P>
<TABLE cellSpacing=0 cellPadding=2 width="100%" border=1>
  
  <TR>
    <TD style="WIDTH: 150px" width=150>{ID}</TD>
    <TD>Номер строки в таблице класса</TD></TR>
  <TR>
    <TD style="WIDTH: 150px" width=150>{UID}</TD>
    <TD> ID владельца этого объекта</TD></TR>
  <TR>
    <TD>{_print}</TD>
    <TD>Сообщение, выводимое после выполнения редактирования</TD></TR>
  <TR>
    <TD>{PAPA_ID}</TD>
    <TD>ID родительского элемента</TD></TR>
  <TR>
    <TD>{PAPA_CLASS}</TD>
    <TD>Имя класса родительского элемента</TD></TR>
  <TR>
    <TD vAlign=top>{PAPA_NUM}</TD>
    <TD>Если родительский элемент - массив, PAPA_NUM равно индексу текущего 
      объекта.</TD></TR>
</TABLE></P>
<center><H5>  &nbsp;</H5>
<H5>Методы базового класса</H5></center>
<TABLE style="WIDTH: 100%" cellSpacing=0 cellPadding=2 width="100%" 
background="" border=1>
  
  <TR>
    <TD style="WIDTH: 150px" width=150>
      new($id)</TD>
    <TD>Если $id пустой - clear(), если $id = 'cre', то 
      $id = insert(), далее reload()</TD></TR>
  <TR>
    <TD>reload()</TD>
    <TD>Если {ID} &lt; 0 ничего не делает, иначе грузит 
      из базы строку с ID = {ID}</TD></TR>
  <TR>
    <TD>load($id)</TD>
    <TD>Сначала save(), eсли $id = 'cre', то $id =             insert(), далее 
      reload()</TD></TR>
  <TR>
    <TD>
      save()</TD>
    <TD>Если {ID} &lt; 0 то начего не делает, иначе&nbsp; 
      сохраняет объект в строку с ID = {ID}</TD></TR>
  <TR>
    <TD>save_to($id)</TD>
    <TD>Временно меняет {ID} на $id, вызывает save(), и 
      возвращает старое значение {ID}</TD></TR>
  <TR>
    <TD>save_as($id)</TD>
    <TD>Меняет {ID} на $id и&nbsp;вызывает save()</TD></TR>
  <TR>
    <TD>DESTROY()</TD>
    <TD>Вызывает save()</TD></TR>
  <TR>
    <TD>cre_TABLE()</TD>
    <TD>Создаёт таблицу класса на основании %props</TD></TR>
  <TR>
    <TD vAlign=top>
      sel_one($sql)</TD>
    <TD>
      <P>Вызывает clear(). Выполняет запрос к таблице класса: SELECT ID FROM ... 
      WHERE $sql LIMIT 1. Присваивает {ID}&nbsp;полученный из запроса ID и 
      вызывает reload()</P></TD></TR>
  <TR>
    <TD vAlign=top>
      sel_where($sql)</TD>
    <TD>То же что и sel(), только сам объект не меняется, 
      а возвращает массив объектов класса, удовлетворяющих запросу.</TD></TR>
  <TR>
    <TD>
      clear()</TD>
    <TD>Обнуляет хеш объекта и присваивает {ID} = 
-1</TD></TR>
  <TR>
    <TD>
      del()</TD>
    <TD>Удаляет из базы строку с ID = {ID} и вызывает 
      clear()</TD></TR>
  <TR>
    <TD>
      insert()</TD>
    <TD>Вставляет в базу строку и возвращает её ID</TD></TR>
  <TR>
    <TD>
      admin_list($page)</TD>
    <TD>Выводит страницу объектов класса</TD></TR>
  <TR>
    <TD>
      admin_view()</TD>
    <TD>Выводит форму редактирования объекта</TD></TR>
  <TR>
    <TD>
      admin_edit()</TD>
    <TD>Заменяет значения&nbsp;полей объекта данными 
      запроса</TD></TR>
  <TR>
    <TD>
      access($type)</TD>
    <TD>Проверяет права на доступ типа $type ($type 
      состоит из одной буквы)</TD></TR>
  <TR>
    <TD>des_page()</TD>
    <TD>Выводит содержимое объекта в 
дизайне</TD></TR>

  <TR>    <TD vAlign=top>IDs($col,$lim)</TD>    <TD>Возвращает массив ID-ов класса, упорядоченных по 
      колонке $col. Если указан $lim, к SELECT в конце добавляется $lim</TD></TR>
  <TR>    <TD>count()</TD>    <TD>Возвращает кол-во объектов класса</TD></TR>
  <TR>    <TD>name()</TD>    <TD>Возвращает имя объекта или "Без имени (Класс 
    №)"</TD></TR>
    <TR>    <TD>des_name()</TD>    <TD>Возвращает имя объекта в виде ссылки на его $page 
    страницу</TD></TR>
  <TR>    <TD>file_href($name)</TD>    <TD>Получает имя свойства, которое является файлом. 
      Возвращает</TD></TR>
  <TR>    <TD>anyfile_href($name)</TD>    <TD>То же, что и file_href(), только для полей "любой 
      файл"</TD></TR>
  <TR>    <TD>papa()</TD>    <TD>Возвращает объект предок</TD></TR>
  <TR>    <TD>admin_tree()</TD>    <TD>Печатает "путь" в админке</TD></TR>
  <TR>    <TD>loadr($id)</TD>    <TD>То же, что и load(), но без предварительного 
      сохранения.</TD></TR>
  <TR>    <TD>print_props()</TD>    <TD>Печатает определения объекта</TD></TR>
  <TR>    <TD>_construct($id)</TD>    <TD>Наследуемая new() :)</TD></TR>
  <TR>
    <TD vAlign=top>des_tree()</TD>
    <TD>Выводит "путь" в дизайне</TD></TR>
  <TR>    <TD vAlign=top>o_sel($sql)</TD>    <TD>Выполняет любой&nbsp;запрос $sql. Подразумевается, 
      что запрос будет по таблице обьекта и будет содержать в результатах поле 
      ID. На основе полученных строк создаётся массиб объектов 
      текущего&nbsp;класса.</TD></TR>

</TABLE>
<center><H3>&nbsp;</H3>
<H3>&nbsp;</H3>
<H3>DBArray</H3></center>

<center><h5> &nbsp;</h5>
<H5>Свойства&nbsp;базового класса</H5></center>
<P>
<TABLE cellSpacing=0 cellPadding=2 width="100%" border=1>
  
  <TR>
    <TD style="WIDTH: 150px" width=150>{PAGE_LEN}</TD>
    <TD>Количество элементов, отображаемых на странице</TD></TR>
</TABLE></P>
<center><H5>  &nbsp;</H5>
<H5>Методы базового класса</H5></center>
<P>
<TABLE style="WIDTH: 100%" cellSpacing=0 cellPadding=2 width="100%" 
background="" border=1>
  
  <TR>
    <TD style="WIDTH: 150px" width=150>
      len()
      </TD><TD>Количество элементов в массиве</TD></TR>
  <TR>
    <TD>pages()</TD>
    <TD> Количество страниц ( &nbsp;{PAGE_LEN} ) </TD></TR>
  <TR>
    <TD>page($page)</TD><TD>   
      </TD></TR>  <TR>
    <TD>page_dec($page)</TD><TD>   
      </TD></TR>  <TR>
    <TD>page_bar()</TD><TD>   
      </TD></TR>  <TR>
    <TD>elem($num)</TD><TD>   
      </TD></TR>  <TR>
    <TD>elem_cut($num)</TD><TD>   
      </TD></TR>
      
  <TR>
    <TD>elem_paste($num)</TD>
    <TD></TD>
  </TR>
  <TR>
    <TD>elem_del($num)</TD>
    <TD></TD>
  </TR>
  <TR>
    <TD>elem_moveto($n,$m)</TD>
    <TD></TD>
  </TR>
  <TR>
    <TD>elem_moveup($num)</TD>
    <TD></TD>
  </TR>
  <TR>
    <TD>elem_movedown($num)</TD>
    <TD></TD>
  </TR>
  <TR>
    <TD>asel_array($sql)</TD>
    <TD></TD>
  </TR>
</TABLE></P>



</BODY>
</HTML>
