#!/usr/bin/perl
use strict qw(subs vars);
#use warnings;

use lib '/home/engine/jlib';

use TimeMeter;
TimeMeter::begin();

use JConfig;
JConfig::init();
use JIO;
use JEML;
use JDBI;
use Front;

###################################################################################################
# Дополнительные пакеты (не составляющие ядро)
###################################################################################################

require 'Packages/design.pm';
require 'Packages/login.pm';


###################################################################################################
# Инициализация и начало работы
###################################################################################################

JIO->start();

JDBI->init();
JDBI->connect();
JDBI->doaccess();

JEML->init();


###################################################################################################
# Собственно работа
###################################################################################################

JEML->doall();


###################################################################################################
# Конец работы: флаши, кеши, пуши и т.д.
###################################################################################################

JDBI->destruct();
JIO->stop();
TimeMeter::end();